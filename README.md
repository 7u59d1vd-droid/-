# æ™ºæ…§æ°´åˆ©å¹³å° (Smart Water Conservancy Platform)

ä¸€ä¸ªç°ä»£åŒ–çš„æ™ºæ…§æ°´åˆ©ç›‘æµ‹ä¸ç®¡ç†ç³»ç»Ÿï¼Œç”¨äºå®æ—¶ç›‘æ§æ°´ä½ã€æµé‡ç­‰å…³é”®æ°´æ–‡æ•°æ®ï¼Œå¹¶æä¾›æ™ºèƒ½å‘Šè­¦åŠŸèƒ½ã€‚

## ğŸŒŸ ä¸»è¦åŠŸèƒ½

- **å®æ—¶ç›‘æµ‹**: ç›‘æ§å¤šä¸ªæ°´æ–‡ç«™ç‚¹çš„æ°´ä½å’Œæµé‡æ•°æ®
- **æ•°æ®å¯è§†åŒ–**: ä½¿ç”¨å›¾è¡¨å±•ç¤ºæ°´æ–‡æ•°æ®è¶‹åŠ¿
- **æ™ºèƒ½å‘Šè­¦**: è‡ªåŠ¨æ£€æµ‹å¼‚å¸¸æƒ…å†µå¹¶å‘å‡ºå‘Šè­¦
- **ä»ªè¡¨ç›˜**: ç›´è§‚çš„æ•°æ®å±•ç¤ºç•Œé¢
- **å†å²æ•°æ®**: æŸ¥è¯¢å’Œåˆ†æå†å²æ°´æ–‡æ•°æ®

## ğŸ—ï¸ æŠ€æœ¯æ ˆ

### åç«¯
- Node.js + Express
- SQLite (better-sqlite3)
- RESTful API

### å‰ç«¯
- React 18
- Vite
- Recharts (æ•°æ®å¯è§†åŒ–)
- å“åº”å¼è®¾è®¡

## ğŸ“¦ å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚
- Node.js (v14 æˆ–æ›´é«˜ç‰ˆæœ¬)
- npm æˆ– yarn

### å®‰è£…ä¸è¿è¡Œ

1. **å…‹éš†ä»“åº“**
```bash
git clone <repository-url>
cd smart-water-platform
```

2. **å®‰è£…åç«¯ä¾èµ–**
```bash
cd backend
npm install
```

3. **å¯åŠ¨åç«¯æœåŠ¡**
```bash
npm start
```
åç«¯æœåŠ¡å°†åœ¨ http://localhost:3001 å¯åŠ¨

4. **å®‰è£…å‰ç«¯ä¾èµ–** (åœ¨æ–°ç»ˆç«¯çª—å£)
```bash
cd frontend
npm install
```

5. **å¯åŠ¨å‰ç«¯å¼€å‘æœåŠ¡å™¨**
```bash
npm run dev
```
å‰ç«¯åº”ç”¨å°†åœ¨ http://localhost:3000 å¯åŠ¨

6. **è®¿é—®åº”ç”¨**
æ‰“å¼€æµè§ˆå™¨è®¿é—® http://localhost:3000

## ğŸ“¡ API æ¥å£æ–‡æ¡£

### æ°´æ–‡ç«™ç‚¹

- `GET /api/stations` - è·å–æ‰€æœ‰ç›‘æµ‹ç«™ç‚¹
- `GET /api/stations/:id` - è·å–æŒ‡å®šç«™ç‚¹ä¿¡æ¯
- `GET /api/dashboard` - è·å–ä»ªè¡¨ç›˜æ•°æ®

### æ°´ä½æ•°æ®

- `GET /api/stations/:id/water-levels` - è·å–ç«™ç‚¹æ°´ä½æ•°æ®
- `POST /api/water-levels` - æ·»åŠ æ°´ä½æ•°æ®

### æµé‡æ•°æ®

- `GET /api/stations/:id/flow-rates` - è·å–ç«™ç‚¹æµé‡æ•°æ®
- `POST /api/flow-rates` - æ·»åŠ æµé‡æ•°æ®

### å‘Šè­¦ä¿¡æ¯

- `GET /api/alarms` - è·å–å‘Šè­¦åˆ—è¡¨
- `POST /api/alarms` - åˆ›å»ºæ–°å‘Šè­¦
- `PUT /api/alarms/:id/resolve` - æ ‡è®°å‘Šè­¦ä¸ºå·²è§£å†³

## ğŸ—‚ï¸ é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ backend/                 # åç«¯æœåŠ¡
â”‚   â”œâ”€â”€ server.js           # Express æœåŠ¡å™¨
â”‚   â”œâ”€â”€ package.json        # åç«¯ä¾èµ–
â”‚   â””â”€â”€ water_platform.db   # SQLite æ•°æ®åº“ (è‡ªåŠ¨ç”Ÿæˆ)
â”œâ”€â”€ frontend/               # å‰ç«¯åº”ç”¨
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ App.jsx        # ä¸»åº”ç”¨ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ main.jsx       # å…¥å£æ–‡ä»¶
â”‚   â”‚   â””â”€â”€ index.css      # å…¨å±€æ ·å¼
â”‚   â”œâ”€â”€ index.html         # HTML æ¨¡æ¿
â”‚   â”œâ”€â”€ vite.config.js     # Vite é…ç½®
â”‚   â””â”€â”€ package.json       # å‰ç«¯ä¾èµ–
â””â”€â”€ README.md              # é¡¹ç›®æ–‡æ¡£
```

## ğŸ’¡ ä½¿ç”¨è¯´æ˜

1. **æŸ¥çœ‹ä»ªè¡¨ç›˜**: é»˜è®¤æ˜¾ç¤ºæ‰€æœ‰ç›‘æµ‹ç«™ç‚¹çš„å®æ—¶æ•°æ®
2. **æŸ¥çœ‹æ•°æ®åˆ†æ**: ç‚¹å‡»ç«™ç‚¹å¡ç‰‡æˆ–åˆ‡æ¢åˆ°"æ•°æ®åˆ†æ"æ ‡ç­¾æŸ¥çœ‹å†å²è¶‹åŠ¿
3. **æŸ¥çœ‹å‘Šè­¦**: åˆ‡æ¢åˆ°"å‘Šè­¦ä¿¡æ¯"æ ‡ç­¾æŸ¥çœ‹æœªå¤„ç†çš„å‘Šè­¦

## ğŸ”’ æ•°æ®åº“ç»“æ„

ç³»ç»Ÿä½¿ç”¨ SQLite æ•°æ®åº“ï¼ŒåŒ…å«ä»¥ä¸‹è¡¨ï¼š

- `water_stations`: æ°´æ–‡ç›‘æµ‹ç«™ç‚¹ä¿¡æ¯
- `water_levels`: æ°´ä½ç›‘æµ‹æ•°æ®
- `flow_rates`: æµé‡ç›‘æµ‹æ•°æ®
- `alarms`: å‘Šè­¦ä¿¡æ¯

## ğŸš€ éƒ¨ç½²

### ç”Ÿäº§ç¯å¢ƒæ„å»º

1. **æ„å»ºå‰ç«¯**
```bash
cd frontend
npm run build
```

2. **å¯åŠ¨åç«¯**
```bash
cd backend
NODE_ENV=production npm start
```

## ğŸ“ è®¸å¯è¯

MIT License

## ğŸ¤ è´¡çŒ®

æ¬¢è¿æäº¤ Issue å’Œ Pull Requestï¼

## ğŸ“§ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œè¯·é€šè¿‡ GitHub Issues è”ç³»ã€‚